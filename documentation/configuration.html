<!DOCTYPE html>
<html lang="en">
<!--<html lang="en" manifest="../resources/manifest/default.appcache">-->
<head>
    <title>Bi Api documentation</title>

    <!-- ======================================================
         Copy/paste <head> content from "/dashboard/index.html"
         (This documentation requires jQuery and FontAwesome)
         ====================================================== -->

    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />

    <link rel="stylesheet" href="../dashboard/app/ui/css/bi.css" />
    <link rel="stylesheet" href="../dashboard/plugins/font-awesome/css/font-awesome.min.css" />

    <script src="../dashboard/plugins/jquery/jquery-2.1.4.min.js"></script>

    <script src="../dashboard/app/bo/tool.js"></script>

    <!-- ==================== END OF: Copy/paste ==================== -->

    <!-- Define the Bi root directory (to set the constant Bi.tool.url.ROOT) -->
    <script>Bi.tool.url.root('/documentation');</script>

    <!-- PrismJS -->
    <link rel="stylesheet" href="prism/prism.css" />
    <script src="prism/prism.js" data-manual></script>

    <!-- QUnit -->
    <link rel="stylesheet" href="qunit/qunit-1.20.0.css" />
    <script src="qunit/qunit-1.20.0.js"></script>

    <!-- Doc helper -->
    <link rel="stylesheet" href="helper/doc.css" />
    <script src="helper/doc.js"></script>

</head>
<body class="bi-font">

    <div id="bidoc-intro">

<h1><i class="fa fa-cog"></i> &nbsp; Configuration</h1>

<p>
    Le fichier <code>Web.config</code> permet de configurer l'application.
</p>
<p>
    Vous devez renseigner les <code>connectionStrings</code> des bases de <b>CONFIG</b> (dont l'alias est obligatoirement <code>Bi.olap</code>) et de <b>DATA</b> ( dont l'alias est par exemple <code>Bi.olapdata</code>).
    Vous devez ensuite autoriser à minima la base de DATA à accéder au web service <b>DbReads</b>.
    Celui-ci permet au client web de demander au serveur web l'execution de code SQL.
</p>

<pre><code class="language-markup">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;configuration&gt;
  &lt;connectionStrings&gt;
    &lt;add name="Bi.olap" connectionString="Data Source=...;User ID=...;Password=...;Initial Catalog=BI20_CONFIG_MYCOUNTRY;" /&gt;
    &lt;add name="Bi.olapdata1" connectionString="Data Source=...;User ID=...;Password=...;Initial Catalog=BI20_DATA_MYCOUNTRY_PART1;" /&gt;
    &lt;add name="Bi.olapdata2" connectionString="Data Source=...;User ID=...;Password=...;Initial Catalog=BI20_DATA_MYCOUNTRY_PART2;" /&gt;
  &lt;/connectionStrings&gt;
  &lt;appSettings&gt;
    &lt;add key="Bi.DbReads.Allowed" value="olapdata1; olapdata2;" /&gt;
  &lt;/appSettings&gt;
&lt;/configuration&gt;
</code></pre>
<p>Exemple de configuration pour un site exploitement 2 sources de données.</p>

<pre><code class="language-markup">&lt;appSettings&gt;
  &lt;add key="Country" value="MYCOUNTRY" /&gt;
&lt;/appSettings&gt;
</code></pre>
<p>
    Vous devez renseigner le nom du site et celui-ci doit "matcher" le nom d'un logo du sites.<br />
    Les logos sont accessibles depuis le répertoire : <code>/dashboard/resources/images/logos</code>.
</p>

<pre><code class="language-markup">&lt;appSettings&gt;
  &lt;add key="EnableAppcache" value="1" /&gt;
&lt;/appSettings&gt;
</code></pre>
<p>
    Pour utiliser le site en mode déconnecté vous devez intégrer le cache manifest.<br />
    Les manifest se trouve dans le répertoire <code>/dashboard/resources/manifest</code>.
    Lorsque vous déployer le site en mode <b>"debug"</b>, c'est le cache <code>default.appcache</code> qui est utilisé,
    alors qu'en mode <b>"release"</b>, c'est le cache <code>bundles.appcache</code>.
</p>

<pre><code class="language-markup">&lt;appSettings&gt;
  &lt;add key="Bi.Load.SQL.js" value="1" /&gt;
&lt;/appSettings&gt;
</code></pre>
<p>
    Pour utiliser le site en mode déconnecté sur une tablette <b>Windows</b>, vous devez intégrer la librairie <b>SQL.js</b>.
</p>

<pre><code class="language-markup">&lt;appSettings&gt;
  &lt;add key="Bi.EnableAutoLogin" value="1" /&gt;
&lt;/appSettings&gt;
</code></pre>
<p>
    Pour utiliser l'authentification AD (Active Directory), vous devez l'activer.
</p>

<pre><code class="language-markup">&lt;appSettings&gt;
  &lt;add key="Bi.Repository.ForceCurrentVersionId" value="25" /&gt; &lt;!-- Leave empty to disable --&gt;
&lt;/appSettings&gt;
</code></pre>
<p>
    Vous pouvez si besoin forcer le numéro de <code>RepoVersionId</code> à utiliser, indépendemment de celui qui est défini dans la table <code>BiRepo_Version</code>.
</p>

    </div>

    <div id="bidoc-index">
        <div id="bidoc-title">Bi Api documentation</div>

        <div id="bidoc-content">

            <ul>
                <li><a href="index.html" class="bidoc-link-home">Accueil</a></li>
                <li><a href="Core.User.html" class="bidoc-link-current">Introduction</a></li>
            </ul>

        </div>
    </div>

</body>
</html>